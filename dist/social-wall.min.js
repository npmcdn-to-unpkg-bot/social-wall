/*!
 * jQuery social-wall plugin 0.4.3
 * https://github.com/thiervoj/social-wall
 *
 * Original jquery-browser code Copyright 2005, 2015 jQuery Foundation, Inc. and other contributors
 * http://jquery.org/license
 *
 * Modifications Copyright 2016 Jordan Thiervoz
 * https://github.com/thiervoj
 *
 * Released under the MIT license
 *
 * Date: 20-05-2016
 */var tailleContainer,allDates=[],isFbOk,isTwOk,isInsOk,isYtOk,isVmOk,loadingState=0,currentPage=1,elemPerPage=8,maxPages=3,phpURL="",$loaderElement,fb_posts='{ "posts": [',tw_posts='{ "posts": [',ins_posts='{ "posts": [',yt_posts='{ "posts": [',nbPostsFb,nbPostsTw,nbPostsIns,nbPostsYt,$masonGrid,cacheDuration=1,fb,tw,ins,yt,vm,clientWidth=$(window).width(),clientHeight=$(window).height(),social={init:function(a){for(var b in a.networks)if(""===a.networks[b])switch(b){case"facebook":fb=!1,isFbOk=!0;break;case"twitter":tw=!1,isTwOk=!0;break;case"instagram":ins=!1,isInsOk=!0;break;case"youtube":yt=!1,isYtOk=!0;break;case"vimeo":vm=!1,isVmOk=!0}else switch(b){case"facebook":fb=a.networks[b],isFbOk=!1;break;case"twitter":tw=a.networks[b],isTwOk=!1;break;case"instagram":ins=a.networks[b],isInsOk=!1;break;case"youtube":yt=a.networks[b],isYtOk=!1;break;case"vimeo":vm=a.networks[b],isVmOk=!1}tailleContainer=$("#social_wall").width(),tailleContainer=570>=clientWidth?Math.floor(tailleContainer):850>=clientWidth?500>=clientHeight?Math.floor(tailleContainer/2-50):Math.floor(tailleContainer/2-25):1050>=clientWidth?Math.floor(tailleContainer/3-35):Math.floor(tailleContainer/4-35);var c;a.hasOwnProperty("params")&&(a.params.hasOwnProperty("elemPerPage")&&(elemPerPage=a.params.elemPerPage),a.params.hasOwnProperty("maxPages")&&(maxPages=a.params.maxPages),a.params.hasOwnProperty("loaderElement")?(c=!0,$loaderElement=a.params.loaderElement):c=!1,a.params.hasOwnProperty("cacheDuration")&&(cacheDuration=a.params.cacheDuration,1>cacheDuration&&(cacheDuration=1)),a.params.hasOwnProperty("phpURL")&&(phpURL=a.params.phpURL,"/"!==phpURL.substr(-1)&&(phpURL+="/"))),social.loading(c),fb!==!1?null===localStorage.getItem("fb_elems")||"null"==localStorage.getItem("fb_elems")?social.launchFb(fb):social.verifCache("fb"):(loadingState++,social.progressLoading()),tw!==!1?null===localStorage.getItem("tw_elems")||"null"==localStorage.getItem("tw_elems")?social.launchTw(tw):social.verifCache("tw"):(loadingState++,social.progressLoading()),ins!==!1?null===localStorage.getItem("ins_elems")||"null"==localStorage.getItem("ins_elems")?social.launchIns(ins):social.verifCache("ins"):(loadingState++,social.progressLoading()),yt!==!1?null===localStorage.getItem("yt_elems")||"null"==localStorage.getItem("yt_elems")?social.launchYt(yt):social.verifCache("yt"):(loadingState++,social.progressLoading()),fb||tw||ins||yt||(loadingState++,social.progressLoading());var d=!1;$("#social_wall").on("click","#social_load_more",function(){d||(d=!0,currentPage++,social.showPosts(currentPage,"loadMore"),d=!1)})},loading:function(a){if(!a){var b=$("<div></div>");b.text("Chargement en cours"),b.attr({id:"social_loading","data-content":b.text()}),$("#social_wall").append(b),$loaderElement=$("#social_loading")}loadingState=0,social.progressLoading()},progressLoading:function(){$loaderElement.addClass("social_state_"+loadingState),5===loadingState&&(loadingState++,$loaderElement.addClass("social_state_"+loadingState),social.showPosts(currentPage,"loadInit"))},showPosts:function(a,b){function c(){if("social_loading"===$loaderElement.attr("id")&&$loaderElement.hide(),$loaderElement.removeClass("social_state_0 social_state_1 social_state_2 social_state_3 social_state_4 social_state_5 social_state_6"),0===$(".social_page_1").length){var a=$("<div></div>");a.text("Pas d'articles"),a.attr("id","social_alert"),$("#social_wall").append(a),$("#social_alert").fadeIn()}else{$(".social_post.social_page_1").show(),$(".social_post.social_page_1").each(function(){$masonGrid=$("#social_wall").imagesLoaded(function(){$masonGrid.masonry({itemSelector:".social_post",columnWidth:tailleContainer+25,isFitWidth:!0,percentPosition:!0,gutter:10})})}),setTimeout(function(){$(".social_post.social_page_1").each(function(a){$(this).delay(200*a).animate({opacity:1},200)})},2e3);var b=$("<div></div>");b.attr("id","social_load_more");var c=$("<div></div>");c.addClass("bar");var d=$("<div></div>");d.addClass("bar");var e=$("<p></p>");e.text("Charger plus"),b.append(c),b.append(e),b.append(d),$("#social_wall").append(b),850>clientWidth&&($("#social_wall #social_load_more").width(clientWidth),$("#social_wall #social_load_more").addClass("littleScreen"))}}"loadInit"===b?"social_loading"===$loaderElement.attr("id")?$loaderElement.delay(1e3).animate({opacity:0},500,function(){c()}):setTimeout(function(){c()},1500):"loadMore"===b&&(0!==$(".social_page_"+a).length&&($(".social_post").each(function(b){$(this).hasClass("social_page_"+a)&&($(this).show(),$masonGrid=$("#social_wall").imagesLoaded(function(){$masonGrid.masonry({itemSelector:".social_post",columnWidth:tailleContainer+25,isFitWidth:!0,percentPosition:!0,gutter:10})}),$(this).delay(200*b).animate({opacity:1},200))}),$masonGrid=$("#social_wall").imagesLoaded(function(){$masonGrid.masonry({itemSelector:".social_post",columnWidth:tailleContainer+25,isFitWidth:!0,percentPosition:!0,gutter:10})})),currentPage===maxPages&&$("#social_load_more").hide())},createArticle:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;switch(c=$("<article></article>"),c.addClass("social_post"),c.width(tailleContainer),c.attr("data-date",a[3]),d=$("<div></div>"),d=document.createElement("div"),d.className="social_source",f=document.createElementNS("http://www.w3.org/2000/svg","svg"),f.width=30,f.height=30,g=document.createElementNS("http://www.w3.org/2000/svg","g"),h=document.createElementNS("http://www.w3.org/2000/svg","path"),i=document.createElementNS("http://www.w3.org/2000/svg","path"),b){case"Facebook":g.setAttribute("id","Facebook_6_"),h.setAttribute("fill","#43619C"),h.setAttribute("d","M15,30C6.729,30,0,23.271,0,15S6.729,0,15,0s15,6.729,15,15S23.271,30,15,30z M15,1.14 C7.357,1.14,1.14,7.357,1.14,15S7.357,28.86,15,28.86S28.86,22.643,28.86,15S22.643,1.14,15,1.14z"),i.setAttribute("id","Facebook_1_"),i.setAttribute("fill","#43619C"),i.setAttribute("d","M21.866,20.939c0,0.425-0.345,0.77-0.77,0.77h-3.555v-5.403h1.814l0.271-2.105h-2.085 v-1.344c0-0.61,0.17-1.025,1.044-1.025l1.115-0.001V9.947c-0.193-0.025-0.854-0.083-1.625-0.083c-1.608,0-2.708,0.981-2.708,2.783 V14.2h-1.818v2.105h1.818v5.403H8.683c-0.425,0-0.77-0.345-0.77-0.77V8.526c0-0.425,0.345-0.77,0.77-0.77h12.413 c0.425,0,0.77,0.344,0.77,0.77C21.866,8.526,21.866,20.939,21.866,20.939z");break;case"Twitter":g.setAttribute("id","Twitter_7_"),h.setAttribute("id","Twitter_1_"),h.setAttribute("fill","#24A9E6"),h.setAttribute("d","M21.55,9.208C20.985,9.55,20.361,9.8,19.694,9.934c-0.532-0.582-1.291-0.945-2.132-0.945 c-1.612,0-2.92,1.341-2.92,2.995c0,0.235,0.025,0.462,0.075,0.682c-2.427-0.125-4.579-1.316-6.02-3.13 c-0.252,0.444-0.395,0.959-0.395,1.507c0,1.038,0.515,1.955,1.299,2.492c-0.478-0.014-0.929-0.151-1.323-0.374v0.037 c0,1.451,1.007,2.662,2.344,2.936c-0.245,0.07-0.503,0.106-0.77,0.106c-0.188,0-0.372-0.018-0.55-0.053 c0.372,1.189,1.45,2.055,2.728,2.079c-0.999,0.804-2.259,1.283-3.627,1.283c-0.235,0-0.469-0.014-0.697-0.041 c1.293,0.849,2.828,1.344,4.477,1.344c5.373,0,8.31-4.563,8.31-8.52c0-0.13-0.003-0.26-0.008-0.388 c0.571-0.423,1.066-0.95,1.456-1.55c-0.523,0.238-1.086,0.399-1.677,0.472C20.869,10.494,21.332,9.907,21.55,9.208z"),i.setAttribute("fill","#24A9E6"),i.setAttribute("d","M15,30C6.729,30,0,23.271,0,15S6.729,0,15,0s15,6.729,15,15S23.271,30,15,30z M15,1.14 C7.357,1.14,1.14,7.357,1.14,15S7.357,28.86,15,28.86S28.86,22.643,28.86,15S22.643,1.14,15,1.14z");break;case"Instagram":g.setAttribute("id","Instagram_7_"),h.setAttribute("id","Instagram_1_"),h.setAttribute("fill","#2A5B83"),h.setAttribute("d","M20.674,7.995H10.053c-0.915,0-1.657,0.74-1.657,1.653v10.63 c0,0.913,0.742,1.653,1.657,1.653h10.622c0.915,0,1.657-0.74,1.657-1.653V9.648C22.331,8.735,21.589,7.995,20.674,7.995z M18.411,10.173c0-0.241,0.195-0.436,0.436-0.436h1.306c0.241,0,0.436,0.195,0.436,0.436v1.306c0,0.241-0.195,0.436-0.436,0.436 h-1.306c-0.241,0-0.436-0.195-0.436-0.436V10.173z M15.38,12.306c1.48,0,2.68,1.197,2.68,2.673c0,1.477-1.2,2.674-2.68,2.674 s-2.679-1.197-2.679-2.674C12.7,13.502,13.9,12.306,15.38,12.306z M21.024,20.188c0,0.241-0.195,0.436-0.436,0.436h-10.45 c-0.241,0-0.436-0.195-0.436-0.436v-6.532h1.742c-0.227,0.327-0.303,0.936-0.303,1.323c0,2.332,1.901,4.229,4.239,4.229 s4.239-1.897,4.239-4.229c0-0.387-0.055-0.987-0.336-1.323h1.742L21.024,20.188L21.024,20.188z"),i.setAttribute("fill","#2A5B83"),i.setAttribute("d","M15,30C6.729,30,0,23.271,0,15S6.729,0,15,0s15,6.729,15,15S23.271,30,15,30z M15,1.14 C7.357,1.14,1.14,7.357,1.14,15S7.357,28.86,15,28.86S28.86,22.643,28.86,15S22.643,1.14,15,1.14z");break;case"YouTube":h.setAttribute("fill","#F24033"),h.setAttribute("d","M15,30C6.729,30,0,23.271,0,15S6.729,0,15,0s15,6.729,15,15S23.271,30,15,30z M15,1.14 C7.357,1.14,1.14,7.357,1.14,15S7.357,28.86,15,28.86S28.86,22.643,28.86,15S22.643,1.14,15,1.14z"),i.setAttribute("fill","#F24033"),i.setAttribute("d","M20.255,9.442c0,0-2.94-0.127-5.072-0.127s-4.964,0.127-4.964,0.127c-1.4,0-2.428,1.136-2.428,2.536v5.579 c0,1.4,1.026,2.536,2.426,2.536c0,0,2.068,0.158,5.075,0.174c3.007,0.016,4.989-0.174,4.989-0.174c1.4,0,2.511-1.136,2.511-2.536 v-5.579C22.792,10.578,21.655,9.442,20.255,9.442z M13.66,17.074v-4.343l4.175,2.179L13.66,17.074z");break;case"Vimeo":g.setAttribute("id","Vimeo_1_"),h.setAttribute("fill","#1CB1E6"),h.setAttribute("d","M19.943,9.107c-1.937-0.063-3.247,1.01-3.935,3.214c0.353-0.146,0.697-0.216,1.031-0.216 c0.708,0,1.02,0.389,0.936,1.173c-0.042,0.475-0.353,1.164-0.936,2.072c-0.583,0.906-1.021,1.358-1.312,1.358 c-0.375,0-0.717-0.699-1.031-2.1c-0.104-0.412-0.292-1.463-0.56-3.153c-0.252-1.565-0.918-2.298-2-2.194 c-0.459,0.043-1.146,0.454-2.06,1.237c-0.668,0.597-1.344,1.195-2.03,1.791l0.656,0.836c0.626-0.434,0.989-0.65,1.093-0.65 c0.478,0,0.926,0.742,1.344,2.227c0.375,1.357,0.749,2.719,1.124,4.08c0.561,1.484,1.248,2.224,2.059,2.224 c1.312,0,2.916-1.215,4.81-3.648c1.83-2.326,2.779-4.159,2.839-5.5C22.054,10.064,21.377,9.147,19.943,9.107z"),i.setAttribute("fill","#1CB1E6"),i.setAttribute("d","M15,30C6.729,30,0,23.271,0,15S6.729,0,15,0s15,6.729,15,15S23.271,30,15,30z M15,1.14 C7.357,1.14,1.14,7.357,1.14,15S7.357,28.86,15,28.86S28.86,22.643,28.86,15S22.643,1.14,15,1.14z")}c.addClass("social_network_"+b),e=document.createElement("p"),e.innerHTML=a[4],j=$("<a></a>"),""!==a[2]?j.attr({href:a[2],target:"_blank"}):j.attr("href",null).css("cursor","pointer"),k=$("<div></div>"),k.addClass("social_content"),"undefined"!=typeof a[1]&&a[1].length>=375&&(a[1]=a[1].substr(0,375)+" ..."),l=$("<p></p>"),l.text(a[1]),m=$("<img/>"),""!==a[5]&&"null"!==a[5]||m.css("display","none"),null!=a[5]?m.attr("src",a[5]):m.css("display","none"),n=$("<div></div>"),n.addClass("social_date"),n.text(b+" - "+a[3]),g.appendChild(h),g.appendChild(i),f.appendChild(g),d.appendChild(f),d.appendChild(e),c.append(d),k.append(l),k.append(m),j.append(k),j.append(n),c.append(j),$("#social_wall").append(c),allDates.push(a[3]),social.verifComplete()},verifComplete:function(){isFbOk||$(".social_network_Facebook").length===nbPostsFb&&(null!==localStorage.getItem("fb_elems")&&"null"!=localStorage.getItem("fb_elems")||social.finishCache(fb,"fb"),isFbOk=!0,loadingState++,social.progressLoading()),isTwOk||$(".social_network_Twitter").length===nbPostsTw&&(null!==localStorage.getItem("tw_elems")&&"null"!=localStorage.getItem("tw_elems")||social.finishCache(tw,"tw"),isTwOk=!0,loadingState++,social.progressLoading()),isInsOk||$(".social_network_Instagram").length===nbPostsIns&&(null!==localStorage.getItem("ins_elems")&&"null"!=localStorage.getItem("ins_elems")||social.finishCache(ins,"ins"),isInsOk=!0,loadingState++,social.progressLoading()),isYtOk||$(".social_network_YouTube").length===nbPostsYt&&(null!==localStorage.getItem("yt_elems")&&"null"!=localStorage.getItem("yt_elems")||social.finishCache(yt,"yt"),isYtOk=!0,loadingState++,social.progressLoading()),isFbOk&&isTwOk&&isInsOk&&isYtOk&&isVmOk&&social.sortArticles()},analyzeDate:function(a,b){var c,d,e,f;if("tw"===b){switch(f=a.substr(4,7),f+=a.substr(-4),c=f.substr(7),d=f.substr(0,3),e=f.substr(4,2),d){case"Jan":d="01";break;case"Feb":d="02";break;case"Mar":d="03";break;case"Apr":d="04";break;case"May":d="05";break;case"Jun":d="06";break;case"Jul":d="07";break;case"Aug":d="08";break;case"Sep":d="09";break;case"Oct":d="10";break;case"Nov":d="11";break;case"Dec":d="12"}f=c+"-"+d+"-"+e}return"ins"===b&&(f=new Date(1e3*parseInt(a)),d=f.getMonth()+1,e=f.getDate(),10>d&&(d="0"+d),10>e&&(e="0"+e),f=f.getFullYear()+"-"+d+"-"+e),"yt"===b&&(f=a.substr(0,10)),f},sortArticles:function(){allDates.sort(),allDates.reverse();for(var a in allDates)$(".social_post[data-date='"+allDates[a]+"']").appendTo("#social_wall");"undefined"==typeof nbPostsFb&&(nbPostsFb=0),"undefined"==typeof nbPostsTw&&(nbPostsTw=0),"undefined"==typeof nbPostsIns&&(nbPostsIns=0),"undefined"==typeof nbPostsYt&&(nbPostsYt=0);for(var b,c=nbPostsFb+nbPostsTw+nbPostsIns+nbPostsYt,d=elemPerPage;c>=d;d+=elemPerPage)b=d,$(".social_post").slice(d-elemPerPage,d).addClass("social_page_"+d/elemPerPage);b+=elemPerPage,$(".social_post").slice(b-elemPerPage,b).addClass("social_page_"+b/elemPerPage),$(".social_post:not(.social_page_1)").hide();for(var e=maxPages+1;c/maxPages>=e;e++)$(".social_page_"+e).remove();loadingState++,social.progressLoading()},hasError:function(a,b){if("ins"!==b){if(a.hasOwnProperty("error")||a.hasOwnProperty("errors")){switch(b){case"fb":a.error.hasOwnProperty("type");break;case"tw":a.hasOwnProperty("errors");break;case"yt":a.error.hasOwnProperty("errors")}return!0}return!1}return a.hasOwnProperty("meta")?!(!a.meta.hasOwnProperty("error_type")&&!a.meta.hasOwnProperty("error_message")):!0},verifCache:function(a){var b,c,d;switch(a){case"fb":fb_posts=$.parseJSON(localStorage.getItem("fb_elems")),fb_posts.id_target===fb?(b=!0,d=fb_posts.posts,c="Facebook",nbPostsFb=d.length):(b=!1,localStorage.setItem("fb_elems","null"),social.launchFb(fb));break;case"tw":tw_posts=$.parseJSON(localStorage.getItem("tw_elems")),tw_posts.id_target===tw?(b=!0,d=tw_posts.posts,c="Twitter",nbPostsTw=d.length):(b=!1,localStorage.setItem("tw_elems","null"),social.launchTw(tw));break;case"ins":ins_posts=$.parseJSON(localStorage.getItem("ins_elems")),ins_posts.id_target===ins?(b=!0,d=ins_posts.posts,c="Instagram",nbPostsIns=d.length):(b=!1,localStorage.setItem("ins_elems","null"),social.launchIns(ins));break;case"yt":yt_posts=$.parseJSON(localStorage.getItem("yt_elems")),yt_posts.id_target===yt?(b=!0,d=yt_posts.posts,c="YouTube",nbPostsYt=d.length):(b=!1,localStorage.setItem("yt_elems","null"),social.launchYt(yt))}if(b){var e=social.verifDateCache(a);if(e===!1)for(var f=0;f<d.length;f++){var g=[];g.push(d[f].id),g.push(d[f].message),g.push(d[f].link),g.push(d[f].date),g.push(d[f].author),g.push(d[f].picture),social.createArticle(g,c)}else"fb"===a?(localStorage.setItem("fb_elems","null"),social.launchFb(fb)):"tw"===a?(localStorage.setItem("tw_elems","null"),social.launchTw(tw)):"ins"===a?(localStorage.setItem("ins_elems","null"),social.launchIns(ins)):"yt"===a&&(localStorage.setItem("yt_elems","null"),social.launchYt(yt))}},verifDateCache:function(a){var b;"fb"===a?b=fb_posts.creationDate:"tw"===a?b=tw_posts.creationDate:"ins"===a?b=ins_posts.creationDate:"yt"===a&&(b=yt_posts.creationDate);var c=new Date;b=b.split("-");var d=b[0],e=b[1],f=b[2],g=c.getDate(),h=c.getMonth()+1,i=c.getFullYear();return f!==g?-cacheDuration>f-g||f-g>cacheDuration?!0:d!==i?!0:e!==h:e===h&&d===i?!1:d!==i||e!==h?!0:void 0},createCache:function(a,b,c,d,e,f,g){"undefined"!=typeof c?(c=c.replace(/\"/g,'\\"'),c=c.replace(new RegExp("(\r\n|\r|\n)","g"),"")):c="","undefined"==typeof d&&(d=""),"undefined"==typeof g&&(g="");var h='{ "id": "'+b+'", "message": "'+c+'", "link": "'+d+'", "date": "'+e+'", "author": "'+f+'", "picture": "'+g+'" }';switch(a){case"fb":"null"===fb_posts&&(fb_posts='{ "posts": ['),'{ "posts": ['!==fb_posts&&(fb_posts+=", "),fb_posts+=h;break;case"tw":'{ "posts": ['!==tw_posts&&(tw_posts+=", "),tw_posts+=h;break;case"ins":'{ "posts": ['!==ins_posts&&(ins_posts+=", "),ins_posts+=h;break;case"yt":'{ "posts": ['!==yt_posts&&(yt_posts+=", "),yt_posts+=h}},finishCache:function(a,b){var c,d=new Date;"fb"===b?(fb_posts+=' ], "creationDate": "'+d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()+'", "id_target": "'+a+'"}',localStorage.setItem("fb_elems",fb_posts),"[object Object]"===localStorage.getItem("fb_elems").substr(0,15)&&(c='{ "posts": ['+localStorage.getItem("fb_elems").substr(17),localStorage.setItem("fb_elems",c))):"tw"===b?(tw_posts+=' ], "creationDate": "'+d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()+'", "id_target": "'+a+'"}',localStorage.setItem("tw_elems",tw_posts),"[object Object]"===localStorage.getItem("tw_elems").substr(0,15)&&(c='{ "posts": ['+localStorage.getItem("tw_elems").substr(17),localStorage.setItem("tw_elems",c))):"ins"===b?(ins_posts+=' ], "creationDate": "'+d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()+'", "id_target": "'+a+'"}',localStorage.setItem("ins_elems",ins_posts),"[object Object]"===localStorage.getItem("ins_elems").substr(0,15)&&(c='{ "posts": ['+localStorage.getItem("ins_elems").substr(17),localStorage.setItem("ins_elems",c))):"yt"===b&&(yt_posts+=' ], "creationDate": "'+d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()+'", "id_target": "'+a+'"}',localStorage.setItem("yt_elems",yt_posts),"[object Object]"===localStorage.getItem("yt_elems").substr(0,15)&&(c='{ "posts": ['+localStorage.getItem("yt_elems").substr(17),localStorage.setItem("yt_elems",c)))},launchFb:function(a){$.post(phpURL+"social-wall.php",{network:"fb",id:a}).done(function(a){a=$.parseJSON(a),social.hasError(a,"fb")||social.getPostsFb(a)}).fail(function(a,b,c){})},getPostsFb:function(a){var b=a.data;nbPostsFb=b.length;for(var c in b){var d=b[c].created_time.substr(0,10),e=b[c].link;null!=e&&""!==e||(e="https://facebook.com/"+b[c].id);var f=[];f.push(b[c].id),f.push(b[c].message),f.push(e),f.push(d),f.push(b[c].from.name),f.push(b[c].full_picture),social.createCache("fb",f[0],f[1],f[2],f[3],f[4],f[5]),social.createArticle(f,"Facebook")}},launchTw:function(a){$.post(phpURL+"social-wall.php",{network:"tw",id:a}).done(function(a){a=$.parseJSON(a),social.hasError(a,"tw")||social.getPostsTw(a)}).fail(function(a,b,c){})},getPostsTw:function(a){nbPostsTw=a.length;for(var b in a){var c=[];c.push(a[b].id_str),c.push(a[b].text),c.push("https://twitter.com/"+a[b].user.screen_name+"/status/"+a[b].id_str);var d=social.analyzeDate(a[b].created_at,"tw");c.push(d),c.push(a[b].user.screen_name),a[b].hasOwnProperty("entities")&&a[b].entities.hasOwnProperty("media")?c.push(a[b].entities.media[0].media_url_https):c.push(null),social.createCache("tw",c[0],c[1],c[2],c[3],c[4],c[5]),social.createArticle(c,"Twitter")}},launchIns:function(a){$.post(phpURL+"social-wall.php",{network:"ins",id:a}).done(function(a){a=$.parseJSON(a),social.hasError(a,"ins")||social.getPostsIns(a)}).fail(function(a,b,c){})},getPostsIns:function(a){a=a.data,nbPostsIns=a.length;for(var b in a){var c=[],d=social.analyzeDate(a[b].created_time,"ins");c.push(a[b].id),c.push(a[b].caption.text),c.push(a[b].link),c.push(d),c.push(a[b].user.full_name),c.push(a[b].images.standard_resolution.url),social.createCache("ins",c[0],c[1],c[2],c[3],c[4],c[5]),social.createArticle(c,"Instagram")}},launchYt:function(a){$.post(phpURL+"social-wall.php",{network:"yt",id:a}).done(function(a){a=$.parseJSON(a),social.hasError(a,"yt")||social.getPostsYt(a)}).fail(function(a,b,c){})},getPostsYt:function(a){nbPostsYt=a.pageInfo.totalResults,a=a.items;for(var b in a){var c,d=[];c=""===a[b].snippet.description||null==a[b].snippet.description?a[b].snippet.title:a[b].snippet.title+" - "+a[b].snippet.description;var e,f="https://youtube.com/watch?v="+a[b].id.videoId,g=social.analyzeDate(a[b].snippet.publishedAt,"yt");d.push(a[b].id.videoId),d.push(c),d.push(f),d.push(g),d.push(a[b].snippet.channelTitle),a[b].snippet.thumbnails.hasOwnProperty("high")?e=a[b].snippet.thumbnails.high.url:a[b].snippet.thumbnails.hasOwnProperty("medium")?e=a[b].snippet.thumbnails.medium.url:a[b].snippet.thumbnails.hasOwnProperty("default")&&(e=a[b].snippet.thumbnails["default"].url),d.push(e),social.createCache("yt",d[0],d[1],d[2],d[3],d[4],d[5]),social.createArticle(d,"YouTube")}}};module.exports=social;